---
title: "testing google trends"
author: "hannah hess"
date: "November 28, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)


library(gtrendsR)
library(maps)
library(ggplot2)
library(lettercase)
library(viridis)
library(pals)
library(scico)
library(ggrepel)
library(tidyverse)
library(ggmap)
```




```{r, include = FALSE}

#set nice theme for background of first plot 
my_theme <- function() {
    theme_bw() +
    theme(panel.background = element_blank()) +
    theme(plot.background = element_rect(fill = "seashell")) +
    theme(panel.border = element_blank()) +                     # facet border
    theme(strip.background = element_blank()) +                 # facet title background
    theme(plot.margin = unit(c(.5, .5, .5, .5), "cm")) +
    theme(panel.spacing = unit(3, "lines")) +
    theme(panel.grid.major = element_blank()) +
    theme(panel.grid.minor = element_blank()) +
    theme(legend.background = element_blank()) +
    theme(legend.key = element_blank()) +
    theme(legend.title = element_blank())
  }

```



```{r}

#introductory plot to display pornography search data 
sex <- gtrends(c("sex","porn"), gprop = "web", geo = c("SA"))
sex %>% glimpse()

plot(sex) + 
  my_theme() +
  geom_line(size = 0.5) 







```
```{r}
#graph with rectanglas for ramadan presence

#read in the first graph which includes indicators for the presence of ramadan/eid and the value for sex and porn searches
read_rds("graph_data.rds")



```


```{r}
#download data for the second graph which shows hourly interest over a seven day period 

#(hourly interest code)

```

